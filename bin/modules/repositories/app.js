"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const app_1 = require("../../models/app");
async function findByBundleId(id) {
    return await app_1.App.query().where('bundleId', id).first();
}
exports.findByBundleId = findByBundleId;
async function list() {
    return await app_1.App.query();
}
exports.list = list;
async function insert(model, transaction = null) {
    return await app_1.App.query(transaction).insert(model);
}
exports.insert = insert;
async function update(app) {
    return await app_1.App.query().updateAndFetchById(app.bundleId, app);
}
exports.update = update;
async function removeAll(id, transaction = null) {
    await app_1.App.query(transaction).delete();
}
exports.removeAll = removeAll;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXBwLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc2VydmVyL21vZHVsZXMvcmVwb3NpdG9yaWVzL2FwcC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLDBDQUF1QztBQUloQyxLQUFLLHlCQUF5QixFQUFVO0lBQzdDLE1BQU0sQ0FBQyxNQUFNLFNBQUcsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxLQUFLLENBQUMsVUFBVSxFQUFFLEVBQUUsQ0FBQyxDQUFDLEtBQUssRUFBRSxDQUFDO0FBQ3pELENBQUM7QUFGRCx3Q0FFQztBQUNNLEtBQUs7SUFDVixNQUFNLENBQUMsTUFBTSxTQUFHLENBQUMsS0FBSyxFQUFFLENBQUM7QUFDM0IsQ0FBQztBQUZELG9CQUVDO0FBRU0sS0FBSyxpQkFBaUIsS0FBVyxFQUFFLGNBQTJCLElBQUk7SUFDdkUsTUFBTSxDQUFDLE1BQU0sU0FBRyxDQUFDLEtBQUssQ0FBQyxXQUFXLENBQUMsQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUM7QUFDcEQsQ0FBQztBQUZELHdCQUVDO0FBRU0sS0FBSyxpQkFBaUIsR0FBUztJQUNwQyxNQUFNLENBQUMsTUFBTSxTQUFHLENBQUMsS0FBSyxFQUFFLENBQUMsa0JBQWtCLENBQUMsR0FBRyxDQUFDLFFBQVEsRUFBTyxHQUFHLENBQUMsQ0FBQztBQUN0RSxDQUFDO0FBRkQsd0JBRUM7QUFFTSxLQUFLLG9CQUFvQixFQUFVLEVBQUUsY0FBMkIsSUFBSTtJQUN6RSxNQUFNLFNBQUcsQ0FBQyxLQUFLLENBQUMsV0FBVyxDQUFDLENBQUMsTUFBTSxFQUFFLENBQUM7QUFDeEMsQ0FBQztBQUZELDhCQUVDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwIH0gZnJvbSAnLi4vLi4vbW9kZWxzL2FwcCc7XG5pbXBvcnQgeyBJQXBwIH0gZnJvbSAnLi4vLi4vaW50ZXJmYWNlcy9hcHAnO1xuaW1wb3J0IHsgVHJhbnNhY3Rpb24gfSBmcm9tICdvYmplY3Rpb24nO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZmluZEJ5QnVuZGxlSWQoaWQ6IHN0cmluZyk6IFByb21pc2U8QXBwPiB7XG4gIHJldHVybiBhd2FpdCBBcHAucXVlcnkoKS53aGVyZSgnYnVuZGxlSWQnLCBpZCkuZmlyc3QoKTtcbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBsaXN0KCk6IFByb21pc2U8QXBwW10+IHtcbiAgcmV0dXJuIGF3YWl0IEFwcC5xdWVyeSgpO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gaW5zZXJ0KG1vZGVsOiBJQXBwLCB0cmFuc2FjdGlvbjogVHJhbnNhY3Rpb24gPSBudWxsKTogUHJvbWlzZTxBcHA+IHtcbiAgcmV0dXJuIGF3YWl0IEFwcC5xdWVyeSh0cmFuc2FjdGlvbikuaW5zZXJ0KG1vZGVsKTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHVwZGF0ZShhcHA6IElBcHApOiBQcm9taXNlPEFwcD4ge1xuICByZXR1cm4gYXdhaXQgQXBwLnF1ZXJ5KCkudXBkYXRlQW5kRmV0Y2hCeUlkKGFwcC5idW5kbGVJZCwgPEFwcD5hcHApO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcmVtb3ZlQWxsKGlkOiBzdHJpbmcsIHRyYW5zYWN0aW9uOiBUcmFuc2FjdGlvbiA9IG51bGwpOiBQcm9taXNlPHZvaWQ+IHtcbiAgYXdhaXQgQXBwLnF1ZXJ5KHRyYW5zYWN0aW9uKS5kZWxldGUoKTtcbn0iXX0=