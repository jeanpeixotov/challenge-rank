"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const appRepository = require("../repositories/app");
const playStore = require("google-play-scraper");
async function getApps() {
    let cont = 1;
    for (let cat of categories) {
        let apps = await playStore.list({
            category: cat,
            collection: playStore.collection.GROSSING,
            num: 5
        });
        apps = apps.map(a => {
            return {
                name: a.title,
                developerCompany: a.developer,
                rating: a.score,
                icon: a.icon,
                value: a.price,
                bundleId: a.appId,
                categoryName: cat
            };
        });
        await appRepository.insert(apps);
        console.log(`${categories.length}/${cont++}`, cat);
    }
}
exports.getApps = getApps;
const categories = [
    'ANDROID_WEAR',
    'ART_AND_DESIGN',
    'AUTO_AND_VEHICLES',
    'BEAUTY',
    'BOOKS_AND_REFERENCE',
    'BUSINESS',
    'COMICS',
    'COMMUNICATION',
    'DATING',
    'EDUCATION',
    'ENTERTAINMENT',
    'EVENTS',
    'FINANCE',
    'FOOD_AND_DRINK',
    'HEALTH_AND_FITNESS',
    'HOUSE_AND_HOME',
    'LIBRARIES_AND_DEMO',
    'LIFESTYLE',
    'MAPS_AND_NAVIGATION',
    'MEDICAL',
    'MUSIC_AND_AUDIO',
    'NEWS_AND_MAGAZINES',
    'PARENTING',
    'PERSONALIZATION',
    'PHOTOGRAPHY',
    'PRODUCTIVITY',
    'SHOPPING',
    'SOCIAL',
    'SPORTS',
    'TOOLS',
    'TRAVEL_AND_LOCAL',
    'VIDEO_PLAYERS',
    'WEATHER',
    'GAME',
    'GAME_ACTION',
    'GAME_ADVENTURE',
    'GAME_ARCADE',
    'GAME_BOARD',
    'GAME_CARD',
    'GAME_CASINO',
    'GAME_CASUAL',
    'GAME_EDUCATIONAL',
    'GAME_MUSIC',
    'GAME_PUZZLE',
    'GAME_RACING',
    'GAME_ROLE_PLAYING',
    'GAME_SIMULATION',
    'GAME_SPORTS',
    'GAME_STRATEGY',
    'GAME_TRIVIA',
    'GAME_WORD',
    'FAMILY',
    'FAMILY_ACTION',
    'FAMILY_BRAINGAMES',
    'FAMILY_CREATE',
    'FAMILY_EDUCATION',
    'FAMILY_MUSICVIDEO',
    'FAMILY_PRETEND'
];
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXBwLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc2VydmVyL21vZHVsZXMvc2VydmljZXMvYXBwLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEscURBQXFEO0FBQ3JELGlEQUFpRDtBQUUxQyxLQUFLO0lBQ1YsSUFBSSxJQUFJLEdBQUcsQ0FBQyxDQUFDO0lBRWIsR0FBRyxDQUFDLENBQUMsSUFBSSxHQUFHLElBQUksVUFBVSxDQUFDLENBQUMsQ0FBQztRQUUzQixJQUFJLElBQUksR0FBRyxNQUFNLFNBQVMsQ0FBQyxJQUFJLENBQUM7WUFDOUIsUUFBUSxFQUFFLEdBQUc7WUFDYixVQUFVLEVBQUUsU0FBUyxDQUFDLFVBQVUsQ0FBQyxRQUFRO1lBQ3pDLEdBQUcsRUFBRSxDQUFDO1NBQ1AsQ0FBQyxDQUFDO1FBRUgsSUFBSSxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUU7WUFDbEIsTUFBTSxDQUFDO2dCQUNMLElBQUksRUFBRSxDQUFDLENBQUMsS0FBSztnQkFDYixnQkFBZ0IsRUFBRSxDQUFDLENBQUMsU0FBUztnQkFDN0IsTUFBTSxFQUFFLENBQUMsQ0FBQyxLQUFLO2dCQUNmLElBQUksRUFBRSxDQUFDLENBQUMsSUFBSTtnQkFDWixLQUFLLEVBQUUsQ0FBQyxDQUFDLEtBQUs7Z0JBQ2QsUUFBUSxFQUFFLENBQUMsQ0FBQyxLQUFLO2dCQUNqQixZQUFZLEVBQUUsR0FBRzthQUNsQixDQUFDO1FBQ0osQ0FBQyxDQUFDLENBQUM7UUFFSCxNQUFNLGFBQWEsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDakMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxHQUFHLFVBQVUsQ0FBQyxNQUFNLElBQUksSUFBSSxFQUFFLEVBQUUsRUFBRSxHQUFHLENBQUMsQ0FBQztJQUNyRCxDQUFDO0FBQ0gsQ0FBQztBQTFCRCwwQkEwQkM7QUFFRCxNQUFNLFVBQVUsR0FBRztJQUNqQixjQUFjO0lBQ2QsZ0JBQWdCO0lBQ2hCLG1CQUFtQjtJQUNuQixRQUFRO0lBQ1IscUJBQXFCO0lBQ3JCLFVBQVU7SUFDVixRQUFRO0lBQ1IsZUFBZTtJQUNmLFFBQVE7SUFDUixXQUFXO0lBQ1gsZUFBZTtJQUNmLFFBQVE7SUFDUixTQUFTO0lBQ1QsZ0JBQWdCO0lBQ2hCLG9CQUFvQjtJQUNwQixnQkFBZ0I7SUFDaEIsb0JBQW9CO0lBQ3BCLFdBQVc7SUFDWCxxQkFBcUI7SUFDckIsU0FBUztJQUNULGlCQUFpQjtJQUNqQixvQkFBb0I7SUFDcEIsV0FBVztJQUNYLGlCQUFpQjtJQUNqQixhQUFhO0lBQ2IsY0FBYztJQUNkLFVBQVU7SUFDVixRQUFRO0lBQ1IsUUFBUTtJQUNSLE9BQU87SUFDUCxrQkFBa0I7SUFDbEIsZUFBZTtJQUNmLFNBQVM7SUFDVCxNQUFNO0lBQ04sYUFBYTtJQUNiLGdCQUFnQjtJQUNoQixhQUFhO0lBQ2IsWUFBWTtJQUNaLFdBQVc7SUFDWCxhQUFhO0lBQ2IsYUFBYTtJQUNiLGtCQUFrQjtJQUNsQixZQUFZO0lBQ1osYUFBYTtJQUNiLGFBQWE7SUFDYixtQkFBbUI7SUFDbkIsaUJBQWlCO0lBQ2pCLGFBQWE7SUFDYixlQUFlO0lBQ2YsYUFBYTtJQUNiLFdBQVc7SUFDWCxRQUFRO0lBQ1IsZUFBZTtJQUNmLG1CQUFtQjtJQUNuQixlQUFlO0lBQ2Ysa0JBQWtCO0lBQ2xCLG1CQUFtQjtJQUNuQixnQkFBZ0I7Q0FDakIsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIGFwcFJlcG9zaXRvcnkgZnJvbSAnLi4vcmVwb3NpdG9yaWVzL2FwcCc7XG5pbXBvcnQgKiBhcyBwbGF5U3RvcmUgZnJvbSAnZ29vZ2xlLXBsYXktc2NyYXBlcic7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRBcHBzKCk6IFByb21pc2U8dm9pZD4ge1xuICBsZXQgY29udCA9IDE7XG5cbiAgZm9yIChsZXQgY2F0IG9mIGNhdGVnb3JpZXMpIHtcblxuICAgIGxldCBhcHBzID0gYXdhaXQgcGxheVN0b3JlLmxpc3Qoe1xuICAgICAgY2F0ZWdvcnk6IGNhdCxcbiAgICAgIGNvbGxlY3Rpb246IHBsYXlTdG9yZS5jb2xsZWN0aW9uLkdST1NTSU5HLFxuICAgICAgbnVtOiA1XG4gICAgfSk7XG5cbiAgICBhcHBzID0gYXBwcy5tYXAoYSA9PiB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBuYW1lOiBhLnRpdGxlLFxuICAgICAgICBkZXZlbG9wZXJDb21wYW55OiBhLmRldmVsb3BlcixcbiAgICAgICAgcmF0aW5nOiBhLnNjb3JlLFxuICAgICAgICBpY29uOiBhLmljb24sXG4gICAgICAgIHZhbHVlOiBhLnByaWNlLFxuICAgICAgICBidW5kbGVJZDogYS5hcHBJZCxcbiAgICAgICAgY2F0ZWdvcnlOYW1lOiBjYXRcbiAgICAgIH07XG4gICAgfSk7XG5cbiAgICBhd2FpdCBhcHBSZXBvc2l0b3J5Lmluc2VydChhcHBzKTtcbiAgICBjb25zb2xlLmxvZyhgJHtjYXRlZ29yaWVzLmxlbmd0aH0vJHtjb250Kyt9YCwgY2F0KTtcbiAgfVxufVxuXG5jb25zdCBjYXRlZ29yaWVzID0gW1xuICAnQU5EUk9JRF9XRUFSJyxcbiAgJ0FSVF9BTkRfREVTSUdOJyxcbiAgJ0FVVE9fQU5EX1ZFSElDTEVTJyxcbiAgJ0JFQVVUWScsXG4gICdCT09LU19BTkRfUkVGRVJFTkNFJyxcbiAgJ0JVU0lORVNTJyxcbiAgJ0NPTUlDUycsXG4gICdDT01NVU5JQ0FUSU9OJyxcbiAgJ0RBVElORycsXG4gICdFRFVDQVRJT04nLFxuICAnRU5URVJUQUlOTUVOVCcsXG4gICdFVkVOVFMnLFxuICAnRklOQU5DRScsXG4gICdGT09EX0FORF9EUklOSycsXG4gICdIRUFMVEhfQU5EX0ZJVE5FU1MnLFxuICAnSE9VU0VfQU5EX0hPTUUnLFxuICAnTElCUkFSSUVTX0FORF9ERU1PJyxcbiAgJ0xJRkVTVFlMRScsXG4gICdNQVBTX0FORF9OQVZJR0FUSU9OJyxcbiAgJ01FRElDQUwnLFxuICAnTVVTSUNfQU5EX0FVRElPJyxcbiAgJ05FV1NfQU5EX01BR0FaSU5FUycsXG4gICdQQVJFTlRJTkcnLFxuICAnUEVSU09OQUxJWkFUSU9OJyxcbiAgJ1BIT1RPR1JBUEhZJyxcbiAgJ1BST0RVQ1RJVklUWScsXG4gICdTSE9QUElORycsXG4gICdTT0NJQUwnLFxuICAnU1BPUlRTJyxcbiAgJ1RPT0xTJyxcbiAgJ1RSQVZFTF9BTkRfTE9DQUwnLFxuICAnVklERU9fUExBWUVSUycsXG4gICdXRUFUSEVSJyxcbiAgJ0dBTUUnLFxuICAnR0FNRV9BQ1RJT04nLFxuICAnR0FNRV9BRFZFTlRVUkUnLFxuICAnR0FNRV9BUkNBREUnLFxuICAnR0FNRV9CT0FSRCcsXG4gICdHQU1FX0NBUkQnLFxuICAnR0FNRV9DQVNJTk8nLFxuICAnR0FNRV9DQVNVQUwnLFxuICAnR0FNRV9FRFVDQVRJT05BTCcsXG4gICdHQU1FX01VU0lDJyxcbiAgJ0dBTUVfUFVaWkxFJyxcbiAgJ0dBTUVfUkFDSU5HJyxcbiAgJ0dBTUVfUk9MRV9QTEFZSU5HJyxcbiAgJ0dBTUVfU0lNVUxBVElPTicsXG4gICdHQU1FX1NQT1JUUycsXG4gICdHQU1FX1NUUkFURUdZJyxcbiAgJ0dBTUVfVFJJVklBJyxcbiAgJ0dBTUVfV09SRCcsXG4gICdGQU1JTFknLFxuICAnRkFNSUxZX0FDVElPTicsXG4gICdGQU1JTFlfQlJBSU5HQU1FUycsXG4gICdGQU1JTFlfQ1JFQVRFJyxcbiAgJ0ZBTUlMWV9FRFVDQVRJT04nLFxuICAnRkFNSUxZX01VU0lDVklERU8nLFxuICAnRkFNSUxZX1BSRVRFTkQnXG5dOyJdfQ==