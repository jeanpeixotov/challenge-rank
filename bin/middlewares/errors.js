"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
function notFound(req, res, next) {
    return res.status(404).json('Nenhum rota encontrada');
}
exports.notFound = notFound;
function parser(err, req, res, next) {
    if (err.validationError) {
        console.log(req.body);
        console.log(err.message);
        return res.status(400).json(err.message);
    }
    switch (err.message) {
        case 'not-found':
            err.status = 404;
            break;
        case 'access-denied':
            err.status = 403;
            break;
    }
    // if (err instanceof ServiceError && !isDevelopment) {
    //   return res.status((<any>err).status || 400).send({ message: err.message, data: err.data });
    // }
    next(err);
}
exports.parser = parser;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZXJyb3JzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc2VydmVyL21pZGRsZXdhcmVzL2Vycm9ycy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUVBLGtCQUF5QixHQUFZLEVBQUUsR0FBYSxFQUFFLElBQWtCO0lBQ3RFLE1BQU0sQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyx3QkFBd0IsQ0FBQyxDQUFDO0FBQ3hELENBQUM7QUFGRCw0QkFFQztBQUVELGdCQUF1QixHQUFRLEVBQUUsR0FBWSxFQUFFLEdBQWEsRUFBRSxJQUFrQjtJQUM5RSxFQUFFLENBQUMsQ0FBQyxHQUFHLENBQUMsZUFBZSxDQUFDLENBQUMsQ0FBQztRQUN4QixPQUFPLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUN0QixPQUFPLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUN6QixNQUFNLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQzNDLENBQUM7SUFFRCxNQUFNLENBQUMsQ0FBQyxHQUFHLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQztRQUNwQixLQUFLLFdBQVc7WUFDZCxHQUFHLENBQUMsTUFBTSxHQUFHLEdBQUcsQ0FBQztZQUNqQixLQUFLLENBQUM7UUFDUixLQUFLLGVBQWU7WUFDbEIsR0FBRyxDQUFDLE1BQU0sR0FBRyxHQUFHLENBQUM7WUFDakIsS0FBSyxDQUFDO0lBQ1YsQ0FBQztJQUVELHVEQUF1RDtJQUN2RCxnR0FBZ0c7SUFDaEcsSUFBSTtJQUVKLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztBQUNaLENBQUM7QUFyQkQsd0JBcUJDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dEZ1bmN0aW9uLCBSZXF1ZXN0LCBSZXNwb25zZSB9IGZyb20gJ2V4cHJlc3MnO1xuXG5leHBvcnQgZnVuY3Rpb24gbm90Rm91bmQocmVxOiBSZXF1ZXN0LCByZXM6IFJlc3BvbnNlLCBuZXh0OiBOZXh0RnVuY3Rpb24pOiBhbnkge1xuICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oJ05lbmh1bSByb3RhIGVuY29udHJhZGEnKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlcihlcnI6IGFueSwgcmVxOiBSZXF1ZXN0LCByZXM6IFJlc3BvbnNlLCBuZXh0OiBOZXh0RnVuY3Rpb24pOiBhbnkge1xuICBpZiAoZXJyLnZhbGlkYXRpb25FcnJvcikge1xuICAgIGNvbnNvbGUubG9nKHJlcS5ib2R5KTtcbiAgICBjb25zb2xlLmxvZyhlcnIubWVzc2FnZSk7XG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKGVyci5tZXNzYWdlKTtcbiAgfVxuXG4gIHN3aXRjaCAoZXJyLm1lc3NhZ2UpIHtcbiAgICBjYXNlICdub3QtZm91bmQnOlxuICAgICAgZXJyLnN0YXR1cyA9IDQwNDtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ2FjY2Vzcy1kZW5pZWQnOlxuICAgICAgZXJyLnN0YXR1cyA9IDQwMztcbiAgICAgIGJyZWFrO1xuICB9XG5cbiAgLy8gaWYgKGVyciBpbnN0YW5jZW9mIFNlcnZpY2VFcnJvciAmJiAhaXNEZXZlbG9wbWVudCkge1xuICAvLyAgIHJldHVybiByZXMuc3RhdHVzKCg8YW55PmVycikuc3RhdHVzIHx8IDQwMCkuc2VuZCh7IG1lc3NhZ2U6IGVyci5tZXNzYWdlLCBkYXRhOiBlcnIuZGF0YSB9KTtcbiAgLy8gfVxuXG4gIG5leHQoZXJyKTtcbn0iXX0=